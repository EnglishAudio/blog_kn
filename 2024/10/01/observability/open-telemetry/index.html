<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    

    
    <title>OpenTelemetry на практике | Kubernest tech blog</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="keywords" content="Оbservability, OpenTelemetry" />
    
    <meta name="description" content="OpenTelemetry - новый стандарт распределенного трейсинга и мониторинга, объединяющий OpenTracing и OpenCensus. Стандарт совместим с существующими открытыми и вендорскими стандартами, такими как OpenCe">
<meta property="og:type" content="article">
<meta property="og:title" content="OpenTelemetry на практике">
<meta property="og:url" content="https://blog.kubernest.com/2024/10/01/observability/open-telemetry/index.html">
<meta property="og:site_name" content="Kubernest tech blog">
<meta property="og:description" content="OpenTelemetry - новый стандарт распределенного трейсинга и мониторинга, объединяющий OpenTracing и OpenCensus. Стандарт совместим с существующими открытыми и вендорскими стандартами, такими как OpenCe">
<meta property="og:locale" content="ru_RU">
<meta property="og:image" content="https://blog.kubernest.com/images/open-telemetry.png">
<meta property="article:published_time" content="2024-10-01T09:20:00.000Z">
<meta property="article:modified_time" content="2024-11-20T13:19:28.799Z">
<meta property="article:author" content="авторы проекта kubernest">
<meta property="article:tag" content="Оbservability, OpenTelemetry">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.kubernest.com/images/open-telemetry.png">
    

    
        <link rel="alternate" href="/atom.xml" title="Kubernest tech blog" type="application/atom+xml" />
        <link rel="alternate" type="application/rss+xml" title="Kubernest tech blog" href="https://blog.kubernest.com/rss.xml" />
        <link rel="alternate" type="application/rss+xml" title="Kubernest tech blog" href="https://blog.kubernest.com/rss-feed.xml" />
     

     
        <link rel="amphtml" href="https://blog.kubernest.com/amp2024/10/01/observability/open-telemetry/">
     


    
        <link rel="icon" href="/css/images/favicon.ico" />
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
        <link rel="icon" type="image/png" sizes="120x120" href="/apple-touch-icon-120x120.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="msapplication-TileImage" content="/mstile-144x144.png">
        <meta name="theme-color" content="#ffffff">
    

    
       <!-- Yandex.RTB -->
       <script>window.yaContextCb=window.yaContextCb||[]</script>
       <script src="https://yandex.ru/ads/system/context.js" async></script>
    

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/libs/titillium-web/styles.css">

    
<link rel="stylesheet" href="/libs/source-code-pro/styles.css">


    
<link rel="stylesheet" href="/css/style.css">


    
<script src="/libs/jquery/3.5.0/jquery.min.js"></script>

    
    
        
<link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">

    
    
        
<link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">

    
    
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4PWEJT515P"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4PWEJT515P');
</script>
<!-- End Google Analytics -->

    
    
        <!-- Yandex.Metrika counter -->
<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(86613025, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true,
        webvisor:true
   });
</script>
<!-- /Yandex.Metrika counter -->
    
    
    


</head>

<body>
         <div id="rec541324929" class="r t-rec" style=" " data-animationappear="off" data-record-type="131">
            <!-- T123 -->
            <div class="t123">
                <div class="t-container_100 ">
                    <div class="t-width t-width_100 ">
                        <style>
                            html, html *, body, body * {
                                cursor: none;
                            }
    
                            .cursor-dot, .cursor-dot-outline {
                                mix-blend-mode: normal;
                                pointer-events: none;
                                position: absolute;
                                top: 50%;
                                left: 50%;
                                border-radius: 50%;
                                opacity: 0;
                                position: fixed;
                                -webkit-transform: translate(-50%, -50%);
                                transform: translate(-50%, -50%);
                                -webkit-transition: opacity 0.3s ease-in-out, -webkit-transform 0.3s ease-in-out;
                                transition: opacity 0.3s ease-in-out, -webkit-transform 0.3s ease-in-out;
                                transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
                                transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out, -webkit-transform 0.3s ease-in-out;
                            }
    
                            .cursor-dot {
                                z-index: 99999999;
                                width: 8px;
                                height: 8px;
                                background-color: rgba(0, 195, 255, 0.72);
                                border: solid;
                                border-radius: 50%;
                                border-width: 0px;
                                border-color: #016ffe;
                            }
    
                            .cursor-dot-outline {
                                z-index: 99999998;
                                width: 36px;
                                height: 36px;
                                background-color: rgb(0, 162, 255);
                                border: solid;
                                border-radius: 50%;
                                border-width: 0px;
                                border-color: #000;
                                filter: blur(18px);
                            }
                        </style>
                        <script>
    
                            $("body").prepend('<div class="cursor-dot-outline"></div>');
                            $("body").prepend('<div class="cursor-dot"></div>');
    
                            var cursor = {
                                delay: 8,
                                _x: 0,
                                _y: 0,
                                endX: (window.innerWidth / 2),
                                endY: (window.innerHeight / 2),
                                cursorVisible: true,
                                cursorEnlarged: false,
                                $dot: document.querySelector('.cursor-dot'),
                                $outline: document.querySelector('.cursor-dot-outline'),
    
                                init: function() {
                                    this.dotSize = this.$dot.offsetWidth;
                                    this.outlineSize = this.$outline.offsetWidth;
    
                                    this.setupEventListeners();
                                    this.animateDotOutline();
                                },
    
                                setupEventListeners: function() {
                                    var self = this;
    
                                    document.querySelectorAll('a').forEach(function(el) {
                                        el.addEventListener('mouseover', function() {
                                            self.cursorEnlarged = true;
                                            self.toggleCursorSize();
                                        });
                                        el.addEventListener('mouseout', function() {
                                            self.cursorEnlarged = false;
                                            self.toggleCursorSize();
                                        });
                                    });
    
                                    document.addEventListener('mousedown', function() {
                                        self.cursorEnlarged = true;
                                        self.toggleCursorSize();
                                    });
                                    document.addEventListener('mouseup', function() {
                                        self.cursorEnlarged = false;
                                        self.toggleCursorSize();
                                    });
    
                                    document.addEventListener('mousemove', function(e) {
                                        self.cursorVisible = true;
                                        self.toggleCursorVisibility();
    
                                        self.endX = e.clientX;
                                        self.endY = e.clientY;
                                        self.$dot.style.top = self.endY + 'px';
                                        self.$dot.style.left = self.endX + 'px';
                                    });
    
                                    document.addEventListener('mouseenter', function(e) {
                                        self.cursorVisible = true;
                                        self.toggleCursorVisibility();
                                        self.$dot.style.opacity = 1;
                                        self.$outline.style.opacity = 1;
                                    });
    
                                    document.addEventListener('mouseleave', function(e) {
                                        self.cursorVisible = true;
                                        self.toggleCursorVisibility();
                                        self.$dot.style.opacity = 0;
                                        self.$outline.style.opacity = 0;
                                    });
                                },
    
                                animateDotOutline: function() {
                                    var self = this;
    
                                    self._x += (self.endX - self._x) / self.delay;
                                    self._y += (self.endY - self._y) / self.delay;
                                    self.$outline.style.top = self._y + 'px';
                                    self.$outline.style.left = self._x + 'px';
    
                                    requestAnimationFrame(this.animateDotOutline.bind(self));
                                },
    
                                toggleCursorSize: function() {
                                    var self = this;
    
                                    if (self.cursorEnlarged) {
                                        self.$dot.style.transform = 'translate(-50%, -50%) scale(4)';
                                        self.$outline.style.transform = "translate(-50%, -50%) scale(0.00)";
                                    } else {
                                        self.$dot.style.transform = 'translate(-50%, -50%) scale(1)';
                                        self.$outline.style.transform = 'translate(-50%, -50%) scale(1)';
                                    }
                                },
    
                                toggleCursorVisibility: function() {
                                    var self = this;
    
                                    if (self.cursorVisible) {
                                        self.$dot.style.opacity = 1;
                                        self.$outline.style.opacity = 1;
                                    } else {
                                        self.$dot.style.opacity = 0;
                                        self.$outline.style.opacity = 0;
                                    }
                                }
                            }
                            cursor.init();
                        </script>
                    </div>
                </div>
            </div>
        </div>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">                                                                                                                                                          
                    <h1 class="logo-wrap">
                        <a href="/" class="logo">
                        </a>
                    </h1>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">Главная</a>
                                </li>
                            
                                    <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Golang/">Golang</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Golang/Algorithms/">Algorithms</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Golang/GRPC/">GRPC</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/">Старт</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/InfoSec/">InfoSec</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/InfoSec/Software-Composition-Analysis/">Software Composition Analysis</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Kafka/">Kafka</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Kafka/%D0%A1%D1%82%D0%B0%D1%80%D1%82/">Старт</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/">Вопрос-Ответ</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/Defer/">Defer</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/Generics/">Generics</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/Panic/">Panic</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/SOLID/">SOLID</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/SSA/">SSA</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/Select-case/">Select-case</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%93%D0%BE%D0%BD%D0%BA%D0%B0-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85/">Гонка данных</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%93%D0%BE%D1%80%D1%83%D1%82%D0%B8%D0%BD%D1%8B/">Горутины</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D1%8B/">Интерфейсы</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%9A%D0%BE%D0%BD%D1%82%D0%B5%D0%BA%D1%81%D1%82/">Контекст</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%9C%D0%B0%D1%81%D1%81%D0%B8%D0%B2%D1%8B-%D0%B8-%D1%81%D0%BB%D0%B0%D0%B9%D1%81%D1%8B/">Массивы и слайсы</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%9E%D0%B1%D1%89%D0%B8%D0%B5/">Общие</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%9F%D0%B0%D0%BA%D0%B5%D1%82%D1%8B/">Пакеты</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%9F%D0%BB%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D1%89%D0%B8%D0%BA/">Планировщик</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%9F%D1%80%D0%B8%D0%BC%D0%B8%D1%82%D0%B8%D0%B2%D1%8B-%D1%81%D0%B8%D0%BD%D1%85%D1%80%D0%BE%D0%BD%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8/">Примитивы синхронизации</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%A1%D1%82%D1%80%D0%BE%D0%BA%D0%B8/">Строки</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%A1%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D1%8B/">Структуры</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%A2%D0%B8%D0%BF%D1%8B/">Типы</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%A3%D0%BA%D0%B0%D0%B7%D0%B0%D1%82%D0%B5%D0%BB%D0%B8/">Указатели</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%A5%D0%B5%D1%88-%D0%BC%D0%B0%D0%BF%D1%8B/">Хеш-мапы</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%9Ebservability/">Оbservability</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%9Ebservability/Observability-Engineering/">Observability Engineering</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%9Ebservability/OpenTelemetry/">OpenTelemetry</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%9E%D0%A1/">ОС</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%9E%D0%A1/CPU-cache/">CPU cache</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%9E%D0%A1/C%D0%B5%D1%82%D1%8C/">Cеть</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%9E%D0%A1/Namespaces/">Namespaces</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%D0%9E%D0%A1/%D0%9F%D0%BB%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D1%89%D0%B8%D0%BA-%D0%9ES/">Планировщик ОS</a></li></ul></li></ul>
                                
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" target="_blank" rel="noopener" href="https://kubernest.com/index.html">О сайте</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

<div class="ya-site-form ya-site-form_inited_no" data-bem="{&quot;action&quot;:&quot;/search.html&quot;,&quot;arrow&quot;:false,&quot;bg&quot;:&quot;transparent&quot;,&quot;fontsize&quot;:12,&quot;fg&quot;:&quot;#000000&quot;,&quot;language&quot;:&quot;ru&quot;,&quot;logo&quot;:&quot;rb&quot;,&quot;publicname&quot;:&quot;����� �� ����� GoXpert&quot;,&quot;suggest&quot;:true,&quot;target&quot;:&quot;_blank&quot;,&quot;tld&quot;:&quot;ru&quot;,&quot;type&quot;:2,&quot;usebigdictionary&quot;:true,&quot;searchid&quot;:2519671,&quot;input_fg&quot;:&quot;#000000&quot;,&quot;input_bg&quot;:&quot;#ffffff&quot;,&quot;input_fontStyle&quot;:&quot;normal&quot;,&quot;input_fontWeight&quot;:&quot;normal&quot;,&quot;input_placeholder&quot;:&quot;&quot;,&quot;input_placeholderColor&quot;:&quot;#000000&quot;,&quot;input_borderColor&quot;:&quot;#7f9db9&quot;}">
<form action="https://yandex.ru/search/site/" method="get" target="_blank" accept-charset="utf-8">
<input type="hidden" name="searchid" value="2519671"/>
<input type="hidden" name="l10n" value="ru"/>
<input type="hidden" name="reqenc" value=""/>
<input type="search" name="text" value=""/>
<input type="submit" value="�����"/>
</form>
</div>
    <style type="text/css">.ya-page_js_yes .ya-site-form_inited_no { display: none; }
</style>
<script type="text/javascript">
(function(w,d,c){var s=d.createElement('script'),h=d.getElementsByTagName('script')[0],e=d.documentElement;
if((' '+e.className+' ').indexOf(' ya-page_js_yes ')===-1)
{e.className+=' ya-page_js_yes';}s.type='text/javascript';
s.async=true;s.charset='utf-8';
s.src=(d.location.protocol==='https:'?'https:':'http:')+'//site.yandex.net/v2.0/js/all.js';
h.parentNode.insertBefore(s,h);(w[c]||(w[c]=[])).push(function(){

Ya.Site.Form.init()

})})(window,document,'yandex_site_callbacks');</script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/%D0%9Ebservability/">Оbservability</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/%D0%9Ebservability/OpenTelemetry/">OpenTelemetry</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-observability/open-telemetry" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        OpenTelemetry на практике
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2024/10/01/observability/open-telemetry/" class="article-date">
       <time datetime="2024-10-01T09:20:00.000Z" itemprop="datePublished">2024-10-01</time>
    </a>
  </div>


<div class="article-date">
  <i class="fa fa-calendar-plus-o"></i>
  <a href="/2024/10/01/observability/open-telemetry/" class="article-date">
     <time datetime="2024-11-20T13:19:28.799Z" itemprop="dateModified">2024-11-20</time>
  </a>
</div>


                

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link-link" href="/tags/%D0%9Ebservability-OpenTelemetry/" rel="tag">Оbservability, OpenTelemetry</a>
    </div>

                

                

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            

            

            

            <!-- feed_rem_st --><!-- feed_rem_end --><h2 id="Краткое-содержание-статьи"><a href="#Краткое-содержание-статьи" class="headerlink" title="Краткое содержание статьи"></a>Краткое содержание статьи</h2><p>• OpenTelemetry - новый стандарт распределенного трейсинга и мониторинга, объединяющий OpenTracing и OpenCensus.<br>• OpenTelemetry предоставляет возможности для сбора метрик и трейсов через коллектор.<br>• Стандарт совместим с существующими открытыми и вендорскими стандартами, такими как OpenCensus.<br>• OpenTelemetry обеспечивает совместимость с различными источниками метрик и трейсов, включая закрытые вендоры.<br>• Стандарт позволяет инструментировать библиотеки и приложения для сбора метрик и трейсов.<br>• OpenTelemetry активно применяется в компании для трейсинга и мониторинга микросервисного ландшафта. </p>
<h2 id="OpenTracing-это-новый-стандарт-основанный-на-хорошем-базисе"><a href="#OpenTracing-это-новый-стандарт-основанный-на-хорошем-базисе" class="headerlink" title="OpenTracing - это новый стандарт, основанный на хорошем базисе"></a>OpenTracing - это новый стандарт, основанный на хорошем базисе</h2><p>Добрый день! Меня зовут <a target="_blank" rel="noopener" href="http://kubernest.com/dmitry-sigaev/">Дмитрий Сигаев</a> и здесь в этом блоге я делюсь своим опытом в разработки высоконагруженных приложений и систем.<br>Сегодня мы поговорим об OpenTracing, а если быть более точным, то я расскажу как применять OpenTelemetry в Golang-проектах, как настроить использование нового стандарта для трейсинга и мониторинга и подружить его с уже существующей в проекте инфраструктурой.</p>
<p>Совсем недавно два стандарта – OpenTracing и OpenCensus – окончательно объединились в один. Появился новый стандарт распределенного трейсинга и мониторинга – OpenTelemetry. Но несмотря на то, что разработка библиотек идет полным ходом, реального опыта его использования пока не слишком много (в тех организациях в которых я работал по найму).</p>
<p><img src="/images/open-telemetry.png" alt="Kubernest OpenTelemetry and Jaeger"></p>
<p>OpenTelemetry – стандарт, который появился относительно недавно: в конце 2020 года. При этом он получил широкое распространение и поддержку множества вендоров ПО для трейсинга и мониторинга.</p>
<a href="/2024/10/01/observability/engineering/" title="Observability">Observability</a>, или наблюдаемость, – термин из теории управления, который определяет, насколько можно судить о внутреннем состоянии системы по ее внешним проявлениям. В системной же архитектуре это обозначает набор подходов к наблюдению за состоянием системы в рантайме. К таким подходам относятся логирование, трейсинг и мониторинг. Подробнее читайте в нашем блоге здесь: <a href="/2024/07/07/observability/the-three-pillars/" title="The Three Pillars of Observability">The Three Pillars of Observability</a>
<p><img src="/images/open-telemetry2.png" alt="Kubernest: The Three Pillars of Observability"></p>
<p>Для трейсинга и мониторинга существует множество вендорских решений. До недавнего времени было два открытых стандарта: OpenTracing от CNCF, который появился в 2016, и Open Census от Google, появившийся в 2018.</p>
<p>Это два довольно неплохих стандарта, которые конкурировали между собой некоторое время, пока в 2019 году они не решили объединиться в один новый стандарт, который называется OpenTelemetry.</p>
<p><img src="/images/open-telemetry3.png" alt="Kubernest: OpenTracing and Open Census"></p>
<p>Этот стандарт включает в себя распределенный трейсинг и мониторинг. Он совместим с первыми двумя. Более того, OpenTracing и Open Census прекращают поддержку в течение двух лет, что неотвратимо приближает нас к переходу на OpenTelemetry.</p>
<h3 id="Сценарии-использования"><a href="#Сценарии-использования" class="headerlink" title="Сценарии использования"></a>Сценарии использования</h3><p>Стандарт предполагает широкие возможности совмещения всего со всем и является по сути активной прослойкой между источниками метрик и трейсов и их потребителями.<br>Давайте взглянем на основные сценарии.</p>
<p>Для распределенного трейсинга можно напрямую настроить подключение к Jaeger или к тому сервису, который вы используете.</p>
<p><img src="/images/open-telemetry4.png" alt="Kubernest: App to Jaeger"></p>
<p>Если трейсинг транслируется напрямую, можно использовать config и просто заменить библиотеку.</p>
<p>В случае, если ваше приложение уже использует OpenTracing, можно воспользоваться OpenTracing Bridge – оберткой, которая будет конвертировать запросы к OpenTracing API в OpenTelemetry API на верхнем уровне.</p>
<p><img src="/images/open-telemetry5.png" alt="Kubernest: OpenTracing Bridge"></p>
<p>Для сбора метрик также можно настроить прямой доступ в Prometheus к порту для сбора метрик вашего приложения.</p>
<p><img src="/images/open-telemetry6.png" alt="Kubernest: Prometheus"></p>
<p>Это пригодится, если у вас простая инфраструктура, и вы собираете метрики напрямую. Но стандарт предоставляет и более гибкие возможности.</p>
<p>Основной сценарий использования стандарта – это сбор метрик и трейсов через коллектор, который также запускается отдельным приложением либо контейнером в вашу инфраструктуру. Кроме того, можно взять готовый контейнер и установить его у себя.</p>
<p>Для этого достаточно настроить в приложении экспортер в формате OTLP. Это grpc-схема для передачи данных в формате OpenTracing. Со стороны коллектора можно настроить формат и параметры экспорта метрик и трейсов конечным потребителям, либо в другие форматы. Например, в OpenCensus.</p>
<p><img src="/images/open-telemetry7.png" alt="Kubernest: OpenCensus"></p>
<p>Коллектор позволяет подключать большое количество видов источников данных и множество приемников данных на выходе</p>
<p><img src="/images/open-telemetry8.png" alt="Kubernest: Prometheus"></p>
<p>Таким образом, стандарт OpenTelemetry обеспечивает совместимость с многими открытыми и вендорскими стандартами.</p>
<p>Стандартный коллектор расширяем. Поэтому у большинства вендоров уже готовы экспортеры в их собственные решения, если они есть. Вы можете использовать OpenTelemetry, даже если применяете сбор метрик и трейсов от какого-то закрытого вендора. Таким образом решается проблема с vendor lock-in. Даже если что-то еще не появилось непосредственно для OpenTelemetry, это можно пробросить через OpenCensus.</p>
<p>Сам коллектор очень просто конфигурируется через банальный YAML конфиг:</p>
<p><img src="/images/open-telemetry9.png" alt="Kubernest: config"></p>
<p>Здесь указываются ресиверы. В вашем приложении может быть какой-то другой источник (Kafka и т.д.):</p>
<p><img src="/images/open-telemetry10.png" alt="Kubernest: config"></p>
<p>Экспортеры – получатели данных.<br>Процессоры – методы обработки данных внутри коллектора:</p>
<p><img src="/images/open-telemetry11.png" alt="Kubernest: config"></p>
<p>И pipelines, которые непосредственно определяют, как будет обрабатываться каждый поток данных, который протекает внутри коллектора:</p>
<p><img src="/images/open-telemetry12.png" alt="Kubernest: config"></p>
<p>Давайте рассмотрим один показательный пример.</p>
<p><img src="/images/open-telemetry13.png" alt="Kubernest: example"></p>
<p>Допустим, у вас есть некий микросервис, к которому вы уже прикрутили OpenTelemetry и настроили его. И еще один сервис с аналогичной фрагментацией.</p>
<p>Пока все легко. Но появляются:</p>
<ul>
<li> legacy-сервисы, которые работают через OpenCensus;</li>
<li>база данных, которая отдает данные в своем формате (например, напрямую в Prometheus, как это делает PostgreSQL);</li>
<li>еще какой-то сервис, работающий в контейнере и отдающий метрики в своем формате. Вам не хочется перебилдить этот контейнер и прикручивать sidecars, чтобы они переформатировали метрики. Вы хотите просто брать и отправлять их.</li>
<li>железо, с которого вы тоже собираете метрики и хотите как-то использовать их.</li>
</ul>
<p>Все эти метрики можно объединить одним коллектором.</p>
<p><img src="/images/open-telemetry14.png" alt="Kubernest: example"></p>
<p>Уже сейчас он поддерживает множество источников метрик и трейсов, которые используются в существующих приложениях. А на случай, если вы используете что-то экзотическое, можно реализовать собственный плагин. Но вряд ли это понадобится на практике. Потому что приложения, которые экспортируют метрики или трейсы, так или иначе используют либо какие-то распространенные стандарты, либо открытые стандарты типа OpenCensus.</p>
<p>Теперь мы хотим использовать эту информацию. В качестве экспортера трейсов можно указать Jaeger, а метрики отправлять в Prometheus, или что-то совместимое. Допустим, всеми любимую VictoriaMetrics.</p>
<p>Но что, если мы вдруг решили переехать в AWS и использовать местный трейсер X‑Ray? Не проблема. Это можно пробросить через OpenCensus, в котором есть экспортер для X‑Ray.</p>
<p>Таким образом, из этих кусков можно собрать всю вашу инфраструктуру для метрик и трейсов.</p>
<p>С теорией покончено. Поговорим о том, как использовать трейсинг на практике.</p>
<h2 id="Инструментация-Golang-приложения-трейсинг"><a href="#Инструментация-Golang-приложения-трейсинг" class="headerlink" title="Инструментация Golang приложения: трейсинг"></a>Инструментация Golang приложения: трейсинг</h2><p>Сначала нужно создать корневой span, от которого и будет расти дерево вызовов.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ctx := context.Background()</span><br><span class="line">tr := global.Tracer(<span class="string">&quot;github.com/kubernest/otel-demo&quot;</span>)</span><br><span class="line">ctx, span := tr.Start(ctx, <span class="string">&quot;root&quot;</span>)</span><br><span class="line">span.AddEvent(ctx, <span class="string">&quot;I am a root span!&quot;</span>)</span><br><span class="line">doSomeAction(ctx, <span class="string">&quot;12345&quot;</span>)</span><br><span class="line">span.End()</span><br></pre></td></tr></table></figure>

<p>Здесь указывается название вашего сервиса или библиотеки. В трейсе таким образом можно определить spans, которые лежат именно в рамках вашего приложения, и те, которые пошли в импортированные библиотеки.</p>
<p>Дальше создается корневой span с указанием названия:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctx, span := tr.Start(ctx, <span class="string">&quot;root&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>Выбирайте название, которое будет внятно описывать уровень трейса. Например, это может быть либо название метода (или класса и метода), либо слой архитектуры. Например, инфраструктурный уровень, уровень логики, уровень баз данных и т.д.</p>
<p>Данные о span также кладутся в контекст:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ctx, span := tr.Start(ctx, <span class="string">&quot;root&quot;</span>)</span><br><span class="line">span.AddEvent(ctx, <span class="string">&quot;I am a root span!&quot;</span>)</span><br><span class="line">doSomeAction(ctx, <span class="string">&quot;12345&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>Поэтому в контекст нужно передавать методы, которые вы хотите трейсить.</p>
<p>Span представляет собой процесс на определенном уровне дерева вызова. В него можно положить атрибуты, логи и статусы ошибки, в случае ее возникновения. Span обязательно закрывать в конце. При закрытии рассчитывается его длительность.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ctx, span := tr.Start(ctx, <span class="string">&quot;root&quot;</span>)</span><br><span class="line">span.AddEvent(ctx, <span class="string">&quot;I am a root span!&quot;</span>)</span><br><span class="line">doSomeAction(ctx, <span class="string">&quot;12345&quot;</span>)</span><br><span class="line">span.End()</span><br></pre></td></tr></table></figure>

<p>Так наш span выглядит в Jaeger:</p>
<p><img src="/images/open-telemetry15.png" alt="Kubernest: example"></p>
<p>Его можно развернуть и посмотреть логи и атрибуты.</p>
<p>Далее можно получить тот же span из контекста, если не хочется задавать новый. Например, вы хотите писать один архитектурный слой в один span, а слой у вас разбросан по нескольким методам и нескольким уровням вызова. Вы его получаете, пишете в него, и потом он закрывается.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">doSomeAction</span><span class="params">(ctx context.Context, requestID <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">      span := trace.SpanFromContext(ctx)</span><br><span class="line">      span.AddEvent(ctx, <span class="string">&quot;I am the same span!&quot;</span>)</span><br><span class="line">      ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Обратите внимание, что закрывать здесь его не нужно, потому что он закроется в том же методе, где был создан. Мы просто берем его из контекста.</p>
<p>Записываем сообщение в корневой span:</p>
<p><img src="/images/open-telemetry16.png" alt="Kubernest: example"></p>
<p>Иногда нужно создать новый дочерний span, чтобы он существовал отдельно.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">doSomeAction</span><span class="params">(ctx context.Context, requestID <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">   ctx, span := global.Tracer(<span class="string">&quot;github.com/kubernest/otel-demo&quot;</span>).</span><br><span class="line">      Start(ctx, <span class="string">&quot;child&quot;</span>)</span><br><span class="line">   <span class="keyword">defer</span> span.End()</span><br><span class="line">   span.AddEvent(ctx, <span class="string">&quot;I am a child span!&quot;</span>)</span><br><span class="line">   ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Здесь мы получаем глобальный трейсер по имени библиотеки. Этот вызов можно обернуть в какой-нибудь метод, либо использовать глобальную переменную, потому что во всем вашем сервисе он будет одинаков.</p>
<p>Дальше создается дочерний span из контекста, и ему присваивается имя по аналогии с тем, как мы делали это в начале:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Start(ctx, <span class="string">&quot;child&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>Не забудьте, что span нужно закрыть в конце метода, в котором он был создан.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ctx, span := global.Tracer(<span class="string">&quot;github.com/me/otel-demo&quot;</span>). </span><br><span class="line">   Start(ctx, <span class="string">&quot;child&quot;</span>) </span><br><span class="line"><span class="keyword">defer</span> span.End()</span><br></pre></td></tr></table></figure>

<p>Пишем в него сообщения, которые попадают в дочерний span.</p>
<p><img src="/images/open-telemetry17.png" alt="Kubernest: example"></p>
<p>Здесь видно, что сообщения отображаются иерархически, и дочерний span находится под родительским. Он ожидаемо короче, потому что это был синхронный вызов.</p>
<p>В нем показываются атрибуты, которые можно писать в span:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">doSomeAction</span><span class="params">(ctx context.Context, requestID <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">      ...</span><br><span class="line">      span.SetAttributes(label.String(<span class="string">&quot;request.id&quot;</span>, requestID))</span><br><span class="line">      span.AddEvent(ctx, <span class="string">&quot;request validation ok&quot;</span>)</span><br><span class="line">   span.AddEvent(ctx, <span class="string">&quot;entities loaded&quot;</span>, label.Int64(<span class="string">&quot;count&quot;</span>, <span class="number">123</span>))</span><br><span class="line">      span.SetStatus(codes.Error, <span class="string">&quot;insertion error&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Например, сюда попал наш request. id:</p>
<p><img src="/images/open-telemetry18.png" alt="Kubernest: example"></p>
<p>Можно добавлять events:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">span.AddEvent(ctx, <span class="string">&quot;request validation ok&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>Кроме того, сюда можно добавлять label. Это работает примерно также, как структурный лог в виде logrus:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">span.AddEvent(ctx, <span class="string">&quot;entities loaded&quot;</span>, label.Int64(<span class="string">&quot;count&quot;</span>, <span class="number">123</span>))</span><br></pre></td></tr></table></figure>
<p>Здесь мы видим свое сообщение в логе span. Можно развернуть его и посмотреть labels. В нашем случае сюда добавился label count:</p>
<p><img src="/images/open-telemetry19.png" alt="Kubernest: example"></p>
<p>Потом это будет удобно использовать при фильтрации в поиске.</p>
<p>Если возникла ошибка, в span можно дописать статус. В этом случае он будет помечен как ошибочный.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">span.SetStatus(codes.Error, <span class="string">&quot;insertion error&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>Раньше стандарт использовал коды ошибок из OpenCensus, и они были из grpc. Сейчас оставили только OK, ERROR и UNSET. OK ставится по умолчанию, ERROR в случае ошибки добавляете вы.</p>
<p>Здесь видно, что трейс ошибки помечен красным значком. Есть код ошибки и сообщение о ней:</p>
<p><img src="/images/open-telemetry19a.png" alt="Kubernest: example"></p>
<p>Нужно не забывать о том, что трейсинг – это не замена логов. Основной смысл в том, чтобы отслеживать протекание информации через распределенную систему, а для этого нужно класть трейсы в сетевые запросы и уметь читать их оттуда.</p>
<h2 id="Трейсинг-микросервисов"><a href="#Трейсинг-микросервисов" class="headerlink" title="Трейсинг микросервисов"></a>Трейсинг микросервисов</h2><p>В OpenTelemetry уже есть множество set party реализаций interceptors и middleware для различных фреймворков и библиотек. Их можно найти в репозитории: github.com/open-telemetry/opentelemetry-go-contrib</p>
<p>Список фреймворков, для которых есть interceptors и middleware:</p>
<p>beego<br>go-restful<br>gin<br>gocql<br>mux<br>echo<br>http<br>grpc<br>sarama<br>memcache<br>mongo<br>macaron</p>
<p>Как это использовать, посмотрим на примере стандартного http клиента и сервера.</p>
<p>middleware client</p>
<p>В клиенте просто добавляем interceptor в качестве транспорта, после чего наши запросы обогащаются на trace.id и необходимую для продолжения трейса информацию.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">client := http.Client&#123;</span><br><span class="line">      Transport: otelhttp.NewTransport(http.DefaultTransport),</span><br><span class="line">&#125;</span><br><span class="line">req, _ := http.NewRequestWithContext(ctx, <span class="string">&quot;GET&quot;</span>, url, <span class="literal">nil</span>)</span><br><span class="line">resp, err := client.Do(req)</span><br></pre></td></tr></table></figure>

<p>middleware server</p>
<p>На сервере добавляется небольшой middleware с названием библиотеки:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http.Handle(<span class="string">&quot;/&quot;</span>, otelhttp.NewHandler(</span><br><span class="line">      http.HandlerFunc(get), <span class="string">&quot;root&quot;</span>))</span><br><span class="line">err := http.ListenAndServe(addr, <span class="literal">nil</span>)</span><br></pre></td></tr></table></figure>

<p>Дальше как обычно: получаете span из контекста, работаете с ним, пишите в него что-то, создаете дочерние spans, закрываете их и т.д.</p>
<p>Так выглядит простой запрос, проходящий через три сервиса:</p>
<p><img src="/images/open-telemetry21.png" alt="Kubernest: example"></p>
<p>На скриншоте видна иерархия вызовов, разделение на сервисы, их длительность, последовательность. На каждый из них можно кликнуть и посмотреть более подробную информацию.</p>
<p>А так выглядит ошибка:</p>
<p><img src="/images/open-telemetry21a.png" alt="Kubernest: example"></p>
<p>Легко отследить, где она произошла, когда и сколько времени прошло.<br>В span можно посмотреть подробную информацию о контексте, в котором произошла ошибка:</p>
<p><img src="/images/open-telemetry22.png" alt="Kubernest: example"></p>
<p>Более того, поля, которые относятся ко всему span (различные id запроса, ключевые поля в таблице в запросе, еще какие-то мета данные, которые вы хотите положить) можно вкладывать в span при его создании. Грубо говоря, не нужно копипастить все эти поля в каждое место, где вы обрабатываете ошибку. Можно записать данные о ней в span.</p>
<p>middleware func</p>
<p>Вот небольшой бонус: как сделать middleware, чтобы можно было использовать его в качестве глобального middleware для таких вещей как Gorilla и Gin:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">middleware := <span class="function"><span class="keyword">func</span><span class="params">(h http.Handler)</span> <span class="title">http</span>.<span class="title">Handler</span></span> &#123;</span><br><span class="line">      <span class="keyword">return</span> otelhttp.NewHandler(h, <span class="string">&quot;root&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Инструментация Golang приложения: мониторинг</p>
<p>Пришло время поговорить о мониторинге.</p>
<p>Подключение к системе мониторинга настраивается аналогично тому, что делается для трейсинга.</p>
<p>Измерения делятся на два типа:</p>
<ol>
<li>Синхронные, когда пользователь явно передает значения в момент вызова:</li>
</ol>
<ul>
<li>Counter</li>
<li>UpDownCounter</li>
<li>ValueRecorder</li>
</ul>
<p>int64, float64</p>
<ol start="2">
<li>Асинхронные, которые SDK считывает в момент коллекта данных из приложения:</li>
</ol>
<ul>
<li>SumObserver</li>
<li>UpDownSumObserver</li>
<li>ValueObserver</li>
</ul>
<p>int64, float64</p>
<p>Сами метрики бывают:</p>
<p>Аддитивные и монотонные (Counter, SumObserver), которые суммируют положительные числа, и они не уменьшаются.<br>Аддитивные, но не монотонные (UpDownCounter, UpDownSumObserver), которые могут суммировать положительные и отрицательные числа.<br>Неаддитивные (ValueRecorder, ValueObserver), которые просто записывают последовательность значений. Например, какое-то распределение.</p>
<p>В начале программы создается глобальный измеритель, которому указывается название библиотеки или сервиса.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">meter := global.Meter(<span class="string">&quot;github.com/kubernest/otel-demo&quot;</span>)</span><br><span class="line">floatCounter := metric.Must(meter).NewFloat64Counter(</span><br><span class="line">         <span class="string">&quot;float_counter&quot;</span>,</span><br><span class="line">         metric.WithDescription(<span class="string">&quot;Cumulative float counter&quot;</span>),</span><br><span class="line">   ).Bind(label.String(<span class="string">&quot;label_a&quot;</span>, <span class="string">&quot;some label&quot;</span>))</span><br><span class="line"><span class="keyword">defer</span> floatCounter.Unbind()</span><br></pre></td></tr></table></figure>

<p>Дальше создается метрика:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">floatCounter := metric.Must(meter).NewFloat64Counter(</span><br><span class="line">         <span class="string">&quot;float_counter&quot;</span>,</span><br><span class="line">         metric.WithDescription(<span class="string">&quot;Cumulative float counter&quot;</span>),</span><br><span class="line">   ).Bind(label.String(<span class="string">&quot;label_a&quot;</span>, <span class="string">&quot;some label&quot;</span>))</span><br></pre></td></tr></table></figure>
<p>Ей указывается название:</p>
<p>   “float_counter”,</p>
<p>Описание:</p>
<p>…<br>         metric.WithDescription(“Cumulative float counter”),<br>…</p>
<p>Набор лейблов, по которым вы потом можете фильтровать запросы. Например, при построении дашбордов в Grafana:</p>
<p>…<br>    ).Bind(label.String(“label_a”, “some label”))<br>…</p>
<p>В конце программы также нужно вызвать Unbind для каждой метрики, что освободит ресурсы и правильно ее закроет:</p>
<p>…<br>defer floatCounter.Unbind()<br>…</p>
<p>Записывать изменения просто:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> (</span><br><span class="line">counter metric.BoundFloat64Counter</span><br><span class="line">udCounter metric.BoundFloat64UpDownCounter</span><br><span class="line">valueRecorder metric.BoundFloat64ValueRecorder</span><br><span class="line">)</span><br><span class="line">...</span><br><span class="line">counter.Add(ctx, <span class="number">1.5</span>)</span><br><span class="line">udCounter.Add(ctx, <span class="number">-2.5</span>)</span><br><span class="line">valueRecorder.Record(ctx, <span class="number">3.5</span>)</span><br></pre></td></tr></table></figure>

<p>Это положительные числа для Counter, любые числа для UpDownCounter, которые он будет суммировать, и также любые числа для ValueRecorder. Для всех видов инструментов в Go поддерживаются int64 и float64.</p>
<p>Вот что мы получаем на выходе:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># HELP float_counter Cumulative float counter</span><br><span class="line"># TYPE float_counter counter</span><br><span class="line">float_counter&#123;label_a=<span class="string">&quot;some label&quot;</span>&#125; <span class="number">20</span></span><br></pre></td></tr></table></figure>

<p>Это наша метрика с комментарием и заданным лейблом. Потом можно ее взять либо напрямую через Prometheus, либо экспортировать через OpenTelemetry коллектор, и дальше использовать там, где нам нужно.</p>
<h2 id="Инструментация-Golang-приложения-библиотеки"><a href="#Инструментация-Golang-приложения-библиотеки" class="headerlink" title="Инструментация Golang приложения: библиотеки"></a>Инструментация Golang приложения: библиотеки</h2><p>Последнее, о чем хочется сказать – это возможность, которую стандарт дает для инструментирования библиотек.</p>
<p>Раньше, когда использовались OpenCensus и OpenTracing, вы не могли инструментировать ваши отдельные библиотеки, особенно опенсорсные. Потому что в этом случае у вас получался vendor lock-in. Тот, кто плотно работал с трейсингом, наверняка обращал внимание на то, что большие клиентские библиотеки, или крупные API к облачным сервисам, время от времени падают с трудно объяснимыми ошибками.</p>
<p>Тут бы очень пригодился трейсинг. Особенно в продуктиве, когда у вас происходит какая-то неясная ситуация, и очень хотелось бы знать, почему она произошла. Но все, что у вас есть – это сообщение об ошибке из вашей импортированной библиотеки.</p>
<p>OpenTelemetry решает эту проблему.</p>
<p><img src="/images/open-telemetry23.png" alt="Kubernest: example"></p>
<p>Так как в стандарте SDK и API разделены, API трейсинга метрик можно использовать независимо от SDK и конкретных настроек экспорта данных. Более того, вы можете сначала инструментировать свои методы, а только потом настроить экспорт этих данных вовне.<br>Таким образом можно инструментировать импортируемую библиотеку, не заботясь о том, как и куда будут экспортированы эти данные. Это подойдет и для внутренних, и для открытых опенсорсных библиотек.</p>
<p>Не нужно заботиться о vendor lock-in, не нужно переживать по поводу того, как будет использована эта информация и будет ли использована вообще. Библиотеки и приложения инструментируются заранее, а конфигурация экспорта данных указывается при инициализации приложения.</p>
<p>Таким образом видно, что настройки конфигурации задаются в SDK приложении. Дальше нужно заняться экспортерами трейсинга и метрик. Это может быть один экспортер через OTLP, если вы экспортируете в OpenTelemetry коллектор. Потом все необходимые трейсы и метрики попадают в контекст, а он пропагируется по дереву вызова другим методом вниз.</p>
<p>Приложение наследует от корневого span остальные spans, просто используя OpenTelemetry API и данные, которые лежат в контексте. При этом импортируемые библиотеки получают на вход методы контекст, пытаются считать из этого метода информацию о корневом span. Если его нет, создают свой, и дальше инструментируют логику. Таким образом, вы можете сначала инструментировать свою библиотеку.</p>
<p>Более того, вы можете инструментировать все, но не настраивать экспортеры данных, и просто задеплоить это.</p>
<p>У вас это может работать в проде, и пока инфраструктура не устоялась, у вас не будет настроен трейсинг и мониторинг. Потом вы настроите их, развернете там коллектор, какие-то приложения для сбора этих данных, и у вас все заработает. Вам не нужно ничего менять непосредственно в самих методах.</p>
<p>Таким образом, если у вас какая-то опенсорсная библиотека, вы можете инструментировать ее при помощи OpenTelemetry. Потом люди, которые ее используют, настроят у себя OpenTelemetry и будут использовать эти данные.</p>
<p>В заключении хочу сказать, что стандарт OpenTelemetry многообещающий. Возможно, наконец это тот самый универсальный стандарт, который мы все хотели увидеть.</p>

        </div>
        <footer class="article-footer">
            



    <a data-url="https://blog.kubernest.com/2024/10/01/observability/open-telemetry/" data-id="cm3pusrs00000s0wlavjl1e7w" class="article-share-link"><i class="fa fa-share"></i>Поделиться</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "авторы проекта kubernest"
        },
        "headline": "OpenTelemetry на практике",
        "image": "https://blog.kubernest.com/images/open-telemetry.png",
        "keywords": "Оbservability, OpenTelemetry",
        "genre": "Оbservability OpenTelemetry",
        "datePublished": "2024-10-01",
        "dateCreated": "2024-10-01",
        "dateModified": "2024-11-20",
        "url": "https://blog.kubernest.com/2024/10/01/observability/open-telemetry/",
        "description": "Краткое содержание статьи• OpenTelemetry - новый стандарт распределенного трейсинга и мониторинга, объединяющий OpenTracing и OpenCensus.• OpenTelemetry предоставляет возможности для сбора метрик и тр",
        "wordCount": 2875
    }
</script>

</article>

    <section id="comments">
    
        
    <div id="vk_comments"></div>
    <script type="text/javascript">
      window.onload = function () {
      VK.init({apiId: 52539355, onlyWidgets: true});
      VK.Widgets.Comments("vk_comments", {limit: 20, attach: "*", autoPublish: 1, pageUrl: "https://blog.kubernest.com/2024/10/01/observability/open-telemetry/"});
    }
   </script>

    
    </section>



                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>Подписаться:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="vk" href="https://vk.com/kubernest" target="_blank" rel="noopener">
                        <i class="icon fa fa-vk"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="telegram" href="https://t.me/kubernest" target="_blank" rel="noopener">
                        <i class="icon fa fa-telegram"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="youtube" href="https://www.youtube.com/c/KuberNest" target="_blank" rel="noopener">
                        <i class="icon fa fa-youtube"></i>
                    </a>
                </li>
                
            
                
            
                
                <li>
                    <a class="social-tooltip" title="twitter" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-twitter"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="facebook" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-facebook"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="weibo" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-weibo"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="rss" href="/atom.xml" target="_blank" rel="noopener">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2024/10/12/SCA/risks/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">новые</strong>
        <p class="article-nav-title">
        
            Риски использования уязвимых зависимостей в вашем проекте и как SCA помогает ими управлять
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2024/10/01/kafka/consumer_group/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">старые</strong>
        <p class="article-nav-title">Consumer Group Protocol</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                

            
                
    <div class="widget-wrap">
        <h3 class="widget-title">недавние</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2024/11/01/observability/tracing/" class="thumbnail">
    
    
        <span style="background-image:url(/images/open-telemetry-easy1.png)" alt="Трейсинг в Go — это просто, как дважды два" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/%D0%9Ebservability/">Оbservability</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/%D0%9Ebservability/OpenTelemetry/">OpenTelemetry</a></p>
                            <p class="item-title"><a href="/2024/11/01/observability/tracing/" class="title">Трейсинг в Go — это просто, как дважды два</a></p>
                            <p class="item-date"><time datetime="2024-11-01T10:20:00.000Z" itemprop="datePublished">2024-11-01</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2024/10/12/SCA/sca/" class="thumbnail">
    
    
        <span style="background-image:url(/images/sca.jpg)" alt="SCA (анализ состава программного обеспечения)" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/InfoSec/">InfoSec</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/InfoSec/Software-Composition-Analysis/">Software Composition Analysis</a></p>
                            <p class="item-title"><a href="/2024/10/12/SCA/sca/" class="title">SCA (анализ состава программного обеспечения)</a></p>
                            <p class="item-date"><time datetime="2024-10-12T09:18:00.000Z" itemprop="datePublished">2024-10-12</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2024/10/12/SCA/risks/" class="thumbnail">
    
    
        <span style="background-image:url(/images/seqtesting.jpg)" alt="Риски использования уязвимых зависимостей в вашем проекте и как SCA помогает ими управлять" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/InfoSec/">InfoSec</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/InfoSec/Software-Composition-Analysis/">Software Composition Analysis</a></p>
                            <p class="item-title"><a href="/2024/10/12/SCA/risks/" class="title">Риски использования уязвимых зависимостей в вашем проекте и как SCA помогает ими управлять</a></p>
                            <p class="item-date"><time datetime="2024-10-12T09:18:00.000Z" itemprop="datePublished">2024-10-12</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2024/10/01/observability/open-telemetry/" class="thumbnail">
    
    
        <span style="background-image:url(/images/open-telemetry.png)" alt="OpenTelemetry на практике" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/%D0%9Ebservability/">Оbservability</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/%D0%9Ebservability/OpenTelemetry/">OpenTelemetry</a></p>
                            <p class="item-title"><a href="/2024/10/01/observability/open-telemetry/" class="title">OpenTelemetry на практике</a></p>
                            <p class="item-date"><time datetime="2024-10-01T09:20:00.000Z" itemprop="datePublished">2024-10-01</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2024/10/01/kafka/consumer_group/" class="thumbnail">
    
    
        <span style="background-image:url(/images/Kafka_Internals_Group.png)" alt="Consumer Group Protocol" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Kafka/">Kafka</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Kafka/%D0%A1%D1%82%D0%B0%D1%80%D1%82/">Старт</a></p>
                            <p class="item-title"><a href="/2024/10/01/kafka/consumer_group/" class="title">Consumer Group Protocol</a></p>
                            <p class="item-date"><time datetime="2024-10-01T09:18:00.000Z" itemprop="datePublished">2024-10-01</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">Категории</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/">Golang</a><span class="category-list-count">30</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/Algorithms/">Algorithms</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/Algorithms/Sort/">Sort</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/GRPC/">GRPC</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/GRPC/Sort/">Sort</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/">Старт</a><span class="category-list-count">28</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/Defer/">Defer</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/Generics/">Generics</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/Panic/">Panic</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/SOLID/">SOLID</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/SSA/">SSA</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/Select-case/">Select-case</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/%D0%93%D0%BE%D0%BD%D0%BA%D0%B0-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85/">Гонка данных</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/%D0%93%D0%BE%D1%80%D1%83%D1%82%D0%B8%D0%BD%D1%8B/">Горутины</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D1%8B/">Интерфейсы</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/%D0%9A%D0%BE%D0%BD%D1%82%D0%B5%D0%BA%D1%81%D1%82/">Контекст</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/%D0%9C%D0%B0%D1%81%D1%81%D0%B8%D0%B2%D1%8B-%D0%B8-%D1%81%D0%BB%D0%B0%D0%B9%D1%81%D1%8B/">Массивы и слайсы</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/%D0%9E%D0%B1%D1%89%D0%B8%D0%B5/">Общие</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/%D0%9F%D0%B0%D0%BA%D0%B5%D1%82%D1%8B/">Пакеты</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/%D0%9F%D0%BB%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D1%89%D0%B8%D0%BA/">Планировщик</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/%D0%9F%D1%80%D0%B8%D0%BC%D0%B8%D1%82%D0%B8%D0%B2%D1%8B-%D1%81%D0%B8%D0%BD%D1%85%D1%80%D0%BE%D0%BD%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8/">Примитивы синхронизации</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/%D0%A1%D1%82%D1%80%D0%BE%D0%BA%D0%B8/">Строки</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/%D0%A1%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D1%8B/">Структуры</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/%D0%A2%D0%B8%D0%BF%D1%8B/">Типы</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/%D0%A3%D0%BA%D0%B0%D0%B7%D0%B0%D1%82%D0%B5%D0%BB%D0%B8/">Указатели</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/%D0%A1%D1%82%D0%B0%D1%80%D1%82/%D0%A5%D0%B5%D1%88-%D0%BC%D0%B0%D0%BF%D1%8B/">Хеш-мапы</a><span class="category-list-count">1</span></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/InfoSec/">InfoSec</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/InfoSec/Software-Composition-Analysis/">Software Composition Analysis</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kafka/">Kafka</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Kafka/%D0%A1%D1%82%D0%B0%D1%80%D1%82/">Старт</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Kafka/%D0%A1%D1%82%D0%B0%D1%80%D1%82/Consumer-Group/">Consumer Group</a><span class="category-list-count">1</span></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/">Вопрос-Ответ</a><span class="category-list-count">27</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/Defer/">Defer</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/Generics/">Generics</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/Panic/">Panic</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/SOLID/">SOLID</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/SSA/">SSA</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/Select-case/">Select-case</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%93%D0%BE%D0%BD%D0%BA%D0%B0-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85/">Гонка данных</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%93%D0%BE%D1%80%D1%83%D1%82%D0%B8%D0%BD%D1%8B/">Горутины</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D1%8B/">Интерфейсы</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%9A%D0%BE%D0%BD%D1%82%D0%B5%D0%BA%D1%81%D1%82/">Контекст</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%9C%D0%B0%D1%81%D1%81%D0%B8%D0%B2%D1%8B-%D0%B8-%D1%81%D0%BB%D0%B0%D0%B9%D1%81%D1%8B/">Массивы и слайсы</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%9E%D0%B1%D1%89%D0%B8%D0%B5/">Общие</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%9F%D0%B0%D0%BA%D0%B5%D1%82%D1%8B/">Пакеты</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%9F%D0%BB%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D1%89%D0%B8%D0%BA/">Планировщик</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%9F%D1%80%D0%B8%D0%BC%D0%B8%D1%82%D0%B8%D0%B2%D1%8B-%D1%81%D0%B8%D0%BD%D1%85%D1%80%D0%BE%D0%BD%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8/">Примитивы синхронизации</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%A1%D1%82%D1%80%D0%BE%D0%BA%D0%B8/">Строки</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%A1%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D1%8B/">Структуры</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%A2%D0%B8%D0%BF%D1%8B/">Типы</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%A3%D0%BA%D0%B0%D0%B7%D0%B0%D1%82%D0%B5%D0%BB%D0%B8/">Указатели</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81-%D0%9E%D1%82%D0%B2%D0%B5%D1%82/%D0%A5%D0%B5%D1%88-%D0%BC%D0%B0%D0%BF%D1%8B/">Хеш-мапы</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%9Ebservability/">Оbservability</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%9Ebservability/Observability-Engineering/">Observability Engineering</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%9Ebservability/OpenTelemetry/">OpenTelemetry</a><span class="category-list-count">4</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%9E%D0%A1/">ОС</a><span class="category-list-count">9</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%9E%D0%A1/CPU-cache/">CPU cache</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%9E%D0%A1/C%D0%B5%D1%82%D1%8C/">Cеть</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%9E%D0%A1/Namespaces/">Namespaces</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%D0%9E%D0%A1/%D0%9F%D0%BB%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D1%89%D0%B8%D0%BA-%D0%9ES/">Планировщик ОS</a><span class="category-list-count">1</span></li></ul></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">архивы</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/11/">ноябрь 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/10/">октябрь 2024</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">август 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">июль 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">июнь 2024</a><span class="archive-list-count">39</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">Тэги</h3>
        <div class="widget">
            <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang/" rel="tag">Golang</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang-Q-A/" rel="tag">Golang, Q&A</a><span class="tag-list-count">38</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/InfoSec-Software-Composition-Analysis/" rel="tag">InfoSec, Software Composition Analysis</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kafka-Consumer-Group/" rel="tag">Kafka, Consumer Group</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%D0%9Ebservability-Logs/" rel="tag">Оbservability, Logs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%D0%9Ebservability-Observability-Engineering/" rel="tag">Оbservability, Observability Engineering</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%D0%9Ebservability-OpenTelemetry/" rel="tag">Оbservability, OpenTelemetry</a><span class="tag-list-count">3</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">Облако тэгов</h3>
        <div class="widget tagcloud">
            <a href="/tags/Golang/" style="font-size: 10px;">Golang</a> <a href="/tags/Golang-Q-A/" style="font-size: 20px;">Golang, Q&A</a> <a href="/tags/InfoSec-Software-Composition-Analysis/" style="font-size: 13.33px;">InfoSec, Software Composition Analysis</a> <a href="/tags/Kafka-Consumer-Group/" style="font-size: 10px;">Kafka, Consumer Group</a> <a href="/tags/%D0%9Ebservability-Logs/" style="font-size: 10px;">Оbservability, Logs</a> <a href="/tags/%D0%9Ebservability-Observability-Engineering/" style="font-size: 10px;">Оbservability, Observability Engineering</a> <a href="/tags/%D0%9Ebservability-OpenTelemetry/" style="font-size: 16.67px;">Оbservability, OpenTelemetry</a>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">ссылки</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a target="_blank" rel="noopener" href="https://vk.com/kubernest">мы в vk</a>
                    </li>
                
                    <li>
                        <a target="_blank" rel="noopener" href="https://www.youtube.com/c/Kubernest">мы в youtube</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2024 авторы проекта kubernest</p>
                
                <p>Powered by <a href="https://designest.ru/" target="_blank">DESIGNest Studio Ltd</a></p>
                
            </div>
            <div class="footer-plugins">
                
			<!-- Yandex.RTB R-A-1394392-1 -->
			<div id="yandex_rtb_R-A-1394392-1"></div>
			<script>window.yaContextCb.push(()=>{Ya.Context.AdvManager.render({renderTo: 'yandex_rtb_R-A-1394392-1',  blockId: 'R-A-1394392-1' }) })</script>
                
              
    


            </div>
        </div>
    </div>
</footer>                                                                                            

    </div>
    
    
    <script type="text/javascript">
    var vk_shortname = 'true';
    (function() {
    var vk = document.createElement('script');
    vk.type = 'text/javascript';
    vk.async = true;
    vk.src = '//vk.com/js/api/openapi.js?169'; 
    vk.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
    || document.getElementsByTagName('body')[0]).appendChild(vk);
    })();
    </script>




    
        
<script src="/libs/lightgallery/js/lightgallery.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-pager.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-zoom.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-hash.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-share.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-video.min.js"></script>

    
    
        
<script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>

    
    

    
    
    



<!-- Custom Scripts -->

<script src="/js/main.js"></script>


</body>
</html>
